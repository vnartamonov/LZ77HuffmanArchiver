#ifndef BITMAP_HEAD
#define	BITMAP_HEAD

/////////////////////////////////////////////////////////////////////////////////////////
#include <iostream>
#include <fstream>
#include <vector>
#include "huffman_code.h"
/////////////////////////////////////////////////////////////////////////////////////////
typedef bool Bit;
/////////////////////////////////////////////////////////////////////////////////////////
class BitMap
{
public:
	//-----------------------------------------------------------------------------------
	BitMap
		(
			std::ifstream &  data_input_file,
			std::ofstream & data_output_file
		);
	//-----------------------------------------------------------------------------------
	Bit getbit();
	//-----------------------------------------------------------------------------------
	char getchar();
	//-----------------------------------------------------------------------------------
	unsigned get_unsigned();
	//-----------------------------------------------------------------------------------
	void putbit
		(
			Bit bit
		);
	//-----------------------------------------------------------------------------------
	void putbits 
		(
			const std::vector < Bit > & data
		);
	//-----------------------------------------------------------------------------------
	void putchar 
		(
			char value 
		);
	//-----------------------------------------------------------------------------------
	void put_unsigned
		(
			unsigned data
		);
	//-----------------------------------------------------------------------------------
	void flush();
	//-----------------------------------------------------------------------------------
	~BitMap(){}
private:
	//-----------------------------------------------------------------------------------
	std::ifstream &  input_file;
	std::ofstream & output_file;

	unsigned char ibuffer;
	unsigned char obuffer;
	unsigned char imask;
	unsigned char omask;
	//-----------------------------------------------------------------------------------
};

#endif
